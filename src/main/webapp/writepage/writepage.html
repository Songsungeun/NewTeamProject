<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<script src="../node_modules/handlebars/dist/handlebars.min.js"></script>
<script type="text/javascript"
  src="../node_modules/jquery/dist/jquery.min.js"></script>
<link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
<title>Insert title here</title>
<style>
body {
  background-color: #f1f1f2;
}
/* 
form {
  background: #f1f1f1;
  width: 800px;
  padding-left: 50px;
  padding-top: 20px;
}*/

#write_container {
  border: 1px solid #ededed;
  max-width: 1024px;
  margin: 0 auto;
  padding-top: 80px;
  background-color: white;
  height: 600px;
}

#category_select {
      border: 0;
    }
    label {
      display: block;
      margin: 30px 0 0 0;
    }
    .overflow {
      height: 200px;
    }

.modal-dialog {
  padding-top: 30px;
}
 
 #write_form {
 }
 
 .form-group1 {
  margin: 3 20 20 20;
 }
 
 .form-group2 {
  height: 350px;
  width: 550x;
  margin: 20 20 0 20;
 }
 
 .previewbox {
  width: 476px;
  margin: 0 auto;
 }

#contBox {
    width: 476px;
    border: 1px solid #C1CDCD;
    border-top: 1px dotted #C1CDCD;
    margin: 0 auto;
  }
   /*
  #submitBoard {
    position: relative;
    left: 45%;
  }
  
  #cancelwrite {
    position: relative;
    left: 45%;
  }
  */
  .btn-default {
    position: relative;
    left: 30%;
  }
  
  .btn-primary {
    float: right;
  }
  
  #fileButton {
    position: relative;
    float: left;
    left: 4.9%;
  }
  
  #urlTitle {
    float: left;
    font-size: 17px;
    font-style: bold;
    margin: 2px 0px;
  }
  
  #urlDesc {
    float: left;
  }
  
  #urlAddr {
    margin-top: 10px;
    float: left;
    color: #838B9B;
  }
  
 #previewTitle {
    margin-left: 40px;
    font-size: 15px;
  }
  
  #previewTextBox{
    width: 476px;
    padding: 10px;
  }
  
  #previewTextBox > div > img {
    max-width: 456px;
    height: auto;
  }
  
  #previewTextBox > img {
    max-width: 456px;
    height: auto;
  }
  
  #originFile {
    position: relative;
    float: left;
    width: 400px;
    left: 5%;
    height: 29.53px;
  }
  
  .col-sm-10 {
    margin-bottom: 10px;
  }
</style>

<link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap.min.css">
<link rel="stylesheet" href="../node_modules/bootstrap/dist/css/bootstrap-theme.min.css">

<script>
$(document).ready(function(){ 
    $.get("../header.html", function(data) {
      $("#headerInclude").html(data);
    });
  }); 
</script>
<script>
  $( function() {
    $( "#category" ).selectmenu();
  });
  </script>
</head>
<body>
  <div id="headerInclude"></div>

  <div id="write_container">

    <form id="writeArea">
      <input type="text" id="url" class="form-control" placeholder="URL"> 
      <input type="text" id="write_title" class="form-control" placeholder="제목">
      <textarea class="form-control" id= "myNicEditor" rows="20" style="max-width:1024px;"></textarea>
      
      <fieldset id="category_select">
        <label for="category">Category</label> <select name="category"
          id="category"class="form-control">
          <option selected="selected">라이프</option>
          <option>스포츠</option>
          <option>차/테크</option>
          <option>패션/뷰티</option>
          <option>게임</option>
          <option>TV/연예</option>
          <option>뮤직</option>
          <option>영화</option>
          <option>책/문화</option>
          <option>지식/교양</option>
        </select>
      </fieldset>
    </form>
    <div class="col-sm-10">
        <div class="profileInfomer">
        <button class="ui-button ui-widget ui-corner-all" id="fileButton">파일첨부</button>
        <p  id="originFile" class="form-control" ></p>
            <input id="fileupload" type="file" style="display: none" name="userProfilePhoto" multiple/>
          <p id="hiddenFileName" style="display: none"></p>
          <p id="hiddenOriginFileName" style="display: none"></p>
        </div>

      </div>
<!--     <div class="form-group"> -->
<!--         <label for="exampleInputFile">File input</label>  -->
<!--         <input type="file" id="exampleInputFile"> -->
<!--         <p class="help-block">파일을 등록하세요</p> -->
<!--       </div> -->
     <input class="btn btn-default my-new submitBoard"
          name="submit" id="submitBoard" tabindex="8" value="등록">
      <input class="btn btn-default my-view"
          name="submit" id="updateBoard" tabindex="8" value="변경">
      <input class="btn btn-default my-view"
          name="submit" id="deleteBoard" tabindex="8" value="삭제">
      <input class="btn btn-default"
          name="cancel" id="cancelwrite" tabindex="8" value="취소"
          onclick="location.href='../mainpage/Main.html'">
      <input class="btn btn-default my-new" data-toggle="modal" name="preview" 
               id="preview" tabindex="8" value="미리보기" data-target="#exampleModal" >
<!--      <input class="btn btn-default my-new" -->
<!--          name="preview" id="preview" tabindex="8" value="미리보기"> -->
      <input style= "display: none;" type="text" id="no" class="form-control" placeholder="URL">
    </div>
    
  <!-- Modal Start -->
  <div>

  <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        
        <div class="modal-body">
    <form id="write_form">
      <div class="form-group2">
        <div class="previewLine" id="previewTitle"></div>
          <div id="contBox">
          <div id="previewTextBox"> 
          </div> 
          </div>
      </div>
      <div class="form-group1">
        <div class="previewbox" id="linkedURL">
          <div id="urlImage"></div>
          <div id="urlTitle"></div>
          <div id="urlDesc"></div>
          <div id="urlAddr"></div>
        </div>
      </div>
    </form>
        </div>
        <div class="modal-footer">
    <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
    
  </div>

<!-- <div class="modal-footer"> -->
<!--     <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button> -->
<!--         </div> -->



<!-- <script src="http://code.jquery.com/jquery-latest.min.js"></script> -->

    
  </div>
  <!-- div: #write_container -->

  <script src="../node_modules/bootstrap/dist/js/bootstrap.min.js"></script>
  <script src="../node_modules/jquery/dist/jquery.min.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script type="text/javascript" src="../lib/js/common.js"></script>
  <script src="../node_modules/blueimp-file-upload/js/jquery.fileupload.js"></script>
  <script src="../node_modules/jquery-form/jquery.form.js"></script>
  <script src="../lib/js/NicEdit-Korean/nicEdit.js" type="text/javascript"></script>
  <script src="../node_modules/handlebars/dist/handlebars.min.js"></script>
  <script type="text/javascript" src="writepage1.js"></script>
  <script>
  /*
  bkLib.onDomLoaded(function(){
	  new nicEditor({fullPanel : true, onSave : function(content, "myedit", instance) {
	    alert('save button clicked for element '+"myedit"+' = '+content);
	  } }).panelInstance('myArea2');
	});
  */
  </script>
  <script type="text/javascript">
     bkLib.onDomLoaded(nicEditors.allTextAreas); 
  </script>
<script>
// URL에 no 파라미터 값이 넘어오면 조회 모드로 동작해야 한다.
if (location.search.startsWith("?")) { // 예) ?no=xxx
    var no = location.search.split("=")[1];
    console.log("hi")
    ajaxLoadBoard(no)
    $(".my-new").css("display", "none")
} else {
    $(".my-view").css("display", "none")
}



</script>
</body>
</html>